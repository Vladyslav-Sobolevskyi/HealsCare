"use strict";import Api from"./api.js";import Loader from"./helpers/loader.js";import Modal from"./components/Modal.js";import Form from"./components/Form.js";import HeaderButtonController from"./HeaderButtonController.js";import Visit from"./components/Visit/Visit.js";import VisitorCard from"./components/Visit/VisitorCard.js";import Filter from"./Filter.js";import{toggleStartBlock}from"./helpers/toggleStartBlock.js";import{dragCard}from"./helpers/dragCard.js";document.addEventListener("DOMContentLoaded",(async()=>{const o=new Api,t=new Loader,r=new Modal,e=new HeaderButtonController(r),s=new Form(e,o,r,toggleStartBlock,t),i=new Filter(t),n=new VisitorCard(o,s,r,toggleStartBlock,dragCard,i,t),a=new Visit(s,r,o,n,i,t);console.log("headerController",e),e.setForm(s),e.setVisit(a),s.setVisitorCard(n),n.setVisit(a),i.setVisitorCard(n);const l=localStorage.getItem("token");console.log("token",l),l?(e.createLogOut(),n.getAllCards()):e.createLogIn()}));